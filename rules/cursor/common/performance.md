---
description: 전역 성능/비용 최적화 가이드(모델 선택, 컨텍스트 관리, 빌드 트러블슈팅)
alwaysApply: true
---
# Performance Optimization

## Scope / Precedence

- 이 문서는 **전역 Rules 기본값**이다.
- 프로젝트에 별도의 성능/품질 규칙(모델 고정, 비용 한도, 로그 정책 등)이 있으면 **그 프로젝트 규칙이 우선**이다.

## Model Selection Strategy

원칙: 작업 성격에 따라 **비용/속도/정확도**를 균형 있게 선택한다.  
모델명/ID는 환경마다 다르므로 **Cursor의 모델 선택 UI/설정**을 기준으로 한다.

- **빠른/저비용 모델**
  - 용도: 탐색/요약/단순 변경/로그 출력이 많은 작업
- **균형형(범용 코딩) 모델**
  - 용도: 대부분의 구현 작업, 멀티 파일 변경, 일반 디버깅/리팩터링
- **정밀/깊은 추론 모델**
  - 용도: 아키텍처 결정, 인증/보안/마이그레이션, 복잡한 상호작용 디버깅(실수 비용이 큰 변경)

## Context Window Management

컨텍스트가 커지는 작업(대규모 리팩터링, 멀티파일 기능 추가, 복잡 디버깅)은

- 범위를 쪼개서(디렉터리/기능 단위) 단계적으로 진행한다.
- 한 번에 너무 많은 파일을 읽고 수정하지 않는다(작게 변경 → 검증 반복).

Lower context sensitivity tasks:
- Single-file edits
- Independent utility creation
- Documentation updates
- Simple bug fixes

## Plan Mode 사용 원칙(복잡할 때)

다음 중 하나라도 해당하면 Plan Mode로 전환해 계획을 먼저 만든다.

- 접근 방식이 2개 이상이고 트레이드오프가 큰 경우
- 변경 범위가 넓고(파일 다수) 롤백/리스크가 중요한 경우
- 요구사항이 불명확해 탐색이 필요한 경우

## Build Troubleshooting

빌드/테스트가 실패하면:

1. 터미널로 가장 작은 재현 커맨드부터 실행해 로그를 확보한다.
2. **첫 번째(root) 에러**를 찾고 그 에러만 최소 변경으로 해결한다.
3. 수정 후 같은 커맨드를 즉시 재실행해 회귀 여부를 확인한다.
4. 필요 시 더 작은 단위(단일 패키지/단일 테스트)로 좁혀 반복한다.
