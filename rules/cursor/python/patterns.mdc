---
description: Python 패턴(Protocol/DTO/dataclass/컨텍스트 매니저)
globs: ["**/*.py", "**/*.pyi"]
alwaysApply: false
---
# Python Patterns

> 참고: Cursor 규칙은 다른 문서를 “자동 상속/병합”하지 않습니다. 공통 패턴 규칙이 필요하면 `rules/common/patterns.md`를 별도 Cursor 규칙으로 옮기거나, 필요한 내용을 이 문서에 통합하세요.

## Protocol (Duck Typing)

```python
from typing import Protocol

class Repository(Protocol):
    def find_by_id(self, id: str) -> dict | None: ...
    def save(self, entity: dict) -> dict: ...
```

## Dataclasses as DTOs

```python
from dataclasses import dataclass

@dataclass
class CreateUserRequest:
    name: str
    email: str
    age: int | None = None
```

## Context Managers & Generators

- Use context managers (`with` statement) for resource management
- Use generators for lazy evaluation and memory-efficient iteration

## Reference

See skill: `python-patterns` for comprehensive patterns including decorators, concurrency, and package organization.
